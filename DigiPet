#!/usr/bin/env python

import random
import time
from blessed import Terminal

# Define the pet's ASCII art representation
pet_ascii = r"""
   /\_/\
 ( o.o )
 > ^ <
"""

# Initialize the terminal
term = Terminal()

# Define the dimensions of the pet's square box and menu
box_width = 40
box_height = 10
menu_height = 5

# Initial position of the pet
pet_x = box_width // 2
pet_y = 1

# Function to draw the pet at its current position
def draw_pet():
    # Draw the box
    with term.location(0, 0):
        # Draw the top border
        print(term.white('─' * box_width))

        # Draw the sides
        for _ in range(box_height - 2):
            print(term.white('│' + ' ' * (box_width - 2) + '│'))

        # Draw the bottom border
        print(term.white('─' * box_width))

    # Draw the pet
    with term.location(pet_x, pet_y):
        print(pet_ascii)

# Function to clear the terminal screen
def clear_screen():
    print(term.clear)

# Function to update the pet's position
def move_pet():
    global pet_x, pet_y

    # Generate random movements
    dx = random.randint(-1, 1)
    dy = random.randint(-1, 1)

    # Update the pet's position
    pet_x += dx
    pet_y += dy

    # Keep the pet within the boundaries of the box
    pet_x = max(2, min(pet_x, box_width - 3))
    pet_y = max(2, min(pet_y, box_height - 3))


# Function to display the menu options
def display_menu():
    menu_text = "Menu: 1. Info  |  2. Feed  |  3. Play  |  4. Exit"
    with term.location(1, box_height + 1):
        print(term.center(menu_text))

# Main function
def main():
    with term.fullscreen(), term.hidden_cursor():
        while True:
            clear_screen()
            draw_pet()
            display_menu()
            move_pet()
            time.sleep(0.5)  # Adjust the delay as desired for the pet's movement speed

# Execute the main function
if __name__ == "__main__":
    main()
